!function(t,e){"object"==typeof exports&&"undefined"!=typeof module?e():"function"==typeof define&&define.amd?define(e):e()}(0,function(){"use strict";function t(t){return t&&t.__esModule&&Object.prototype.hasOwnProperty.call(t,"default")?t.default:t}function e(t,e){return t(e={exports:{}},e.exports),e.exports}var n=e(function(t,e){Object.defineProperty(e,"__esModule",{value:!0}),e.$=function(t){return"string"==typeof t?document.querySelector(t):t}});t(n);n.$;var i=e(function(t,e){function n(t,e,n){const i="zIndex"===e?n:"number"==typeof n?`${n}px`:n;if(t.style[e]===i)return!1;t.style[e]=i}Object.defineProperty(e,"__esModule",{value:!0}),e.setStyle=n,e.setStyles=function(t,e){Object.keys(e).forEach(i=>{n(t,i,e[i])})}});t(i);i.setStyle,i.setStyles;var s=e(function(t,e){Object.defineProperty(e,"__esModule",{value:!0});let n=!1;try{const t=Object.defineProperty({},"passive",{get(){n=!0}});window.addEventListener("test",null,t)}catch(t){}function i(){return n}e.isSupportPassive=i,e.default=i});t(s);s.isSupportPassive;var a=e(function(t,e){Object.defineProperty(e,"__esModule",{value:!0});const n=()=>null,i=!!s.default()&&{passive:!0,capture:!1};function a(t,e,n){"tap"!==e?t.addEventListener(e,n,i):r(t,n)}function o(t,e,n){t.removeEventListener(e,n,i)}function r(t,e){let n=null,i=!1;a(t,"touchstart",()=>{n=Date.now()}),a(t,"touchmove",()=>{i=!0}),a(t,"touchend",function(t){if(i)return i=!1,!1;Date.now()-n<300&&e.call(this,t),n=Date.now()})}e.addEvent=a,e.removeEvent=o,e.addEvents=function(t,e=[],i=n){e.forEach(e=>a(t,e,i))},e.removeEvents=function(t,e=[],i=n){e.forEach(e=>o(t,e,i))},e.onTap=r});t(a);a.addEvent,a.removeEvent,a.addEvents,a.removeEvents,a.onTap;var o=e(function(t,e){Object.defineProperty(e,"__esModule",{value:!0});const n=["touchstart","touchmove","touchend","touchcancel"];e.getClientXY=function(t){if(-1===n.indexOf(t.type))return{clientX:t.clientX,clientY:t.clientY};const e=t.targetTouches[0]||t.touches[0];return{clientX:e.clientX,clientY:e.clientY}}});t(o);o.getClientXY;var r=e(function(t,e){Object.defineProperty(e,"__esModule",{value:!0}),e.$=n.$,e.setStyle=i.setStyle,e.setStyles=i.setStyles,e.addEvent=a.addEvent,e.addEvents=a.addEvents,e.removeEvent=a.removeEvent,e.removeEvents=a.removeEvents,e.onTap=a.onTap,e.getClientXY=o.getClientXY});t(r);var l=r.$,h=r.setStyle,c=r.setStyles,u=(r.addEvent,r.addEvents),d=(r.removeEvent,r.removeEvents);r.onTap,r.getClientXY;function p(t){return Math.sqrt(t.x*t.x+t.y*t.y)}function m(t,e){var n=function(t,e){var n=p(t)*p(e);if(0===n)return 0;var i=function(t,e){return t.x*e.x+t.y*e.y}(t,e)/n;return i>1&&(i=1),Math.acos(i)}(t,e);return function(t,e){return t.x*e.y-e.x*t.y}(t,e)>0&&(n*=-1),180*n/Math.PI}var f=function(t){this.handlers=[],this.el=t};function v(t,e){var n=new f(t);return n.add(e),n}f.prototype.add=function(t){this.handlers.push(t)},f.prototype.del=function(t){t||(this.handlers=[]);for(var e=this.handlers.length;e>=0;e--)this.handlers[e]===t&&this.handlers.splice(e,1)},f.prototype.dispatch=function(){for(var t=0,e=this.handlers.length;t<e;t++){var n=this.handlers[t];"function"==typeof n&&n.apply(this.el,arguments)}};var w=function(t,e){this.element="string"==typeof t?document.querySelector(t):t,this.start=this.start.bind(this),this.move=this.move.bind(this),this.end=this.end.bind(this),this.cancel=this.cancel.bind(this),this.element.addEventListener("touchstart",this.start,!1),this.element.addEventListener("touchmove",this.move,!1),this.element.addEventListener("touchend",this.end,!1),this.element.addEventListener("touchcancel",this.cancel,!1),this.preV={x:null,y:null},this.pinchStartLen=null,this.zoom=1,this.isDoubleTap=!1;var n=function(){};this.rotate=v(this.element,e.rotate||n),this.touchStart=v(this.element,e.touchStart||n),this.multipointStart=v(this.element,e.multipointStart||n),this.multipointEnd=v(this.element,e.multipointEnd||n),this.pinch=v(this.element,e.pinch||n),this.swipe=v(this.element,e.swipe||n),this.tap=v(this.element,e.tap||n),this.doubleTap=v(this.element,e.doubleTap||n),this.longTap=v(this.element,e.longTap||n),this.singleTap=v(this.element,e.singleTap||n),this.pressMove=v(this.element,e.pressMove||n),this.twoFingerPressMove=v(this.element,e.twoFingerPressMove||n),this.touchMove=v(this.element,e.touchMove||n),this.touchEnd=v(this.element,e.touchEnd||n),this.touchCancel=v(this.element,e.touchCancel||n),this._cancelAllHandler=this.cancelAll.bind(this),window.addEventListener("scroll",this._cancelAllHandler),this.delta=null,this.last=null,this.now=null,this.tapTimeout=null,this.singleTapTimeout=null,this.longTapTimeout=null,this.swipeTimeout=null,this.x1=this.x2=this.y1=this.y2=null,this.preTapPosition={x:null,y:null}};w.prototype={start:function(t){if(t.touches){this.now=Date.now(),this.x1=t.touches[0].pageX,this.y1=t.touches[0].pageY,this.delta=this.now-(this.last||this.now),this.touchStart.dispatch(t,this.element),null!==this.preTapPosition.x&&(this.isDoubleTap=this.delta>0&&this.delta<=250&&Math.abs(this.preTapPosition.x-this.x1)<30&&Math.abs(this.preTapPosition.y-this.y1)<30,this.isDoubleTap&&clearTimeout(this.singleTapTimeout)),this.preTapPosition.x=this.x1,this.preTapPosition.y=this.y1,this.last=this.now;var e=this.preV;if(t.touches.length>1){this._cancelLongTap(),this._cancelSingleTap();var n={x:t.touches[1].pageX-this.x1,y:t.touches[1].pageY-this.y1};e.x=n.x,e.y=n.y,this.pinchStartLen=p(e),this.multipointStart.dispatch(t,this.element)}this._preventTap=!1,this.longTapTimeout=setTimeout(function(){this.longTap.dispatch(t,this.element),this._preventTap=!0}.bind(this),750)}},move:function(t){if(t.touches){var e=this.preV,n=t.touches.length,i=t.touches[0].pageX,s=t.touches[0].pageY;if(this.isDoubleTap=!1,n>1){var a=t.touches[1].pageX,o=t.touches[1].pageY,r={x:t.touches[1].pageX-i,y:t.touches[1].pageY-s};null!==e.x&&(this.pinchStartLen>0&&(t.zoom=p(r)/this.pinchStartLen,this.pinch.dispatch(t,this.element)),t.angle=m(r,e),this.rotate.dispatch(t,this.element)),e.x=r.x,e.y=r.y,null!==this.x2&&null!==this.sx2?(t.deltaX=(i-this.x2+a-this.sx2)/2,t.deltaY=(s-this.y2+o-this.sy2)/2):(t.deltaX=0,t.deltaY=0),this.twoFingerPressMove.dispatch(t,this.element),this.sx2=a,this.sy2=o}else{if(null!==this.x2){t.deltaX=i-this.x2,t.deltaY=s-this.y2;var l=Math.abs(this.x1-this.x2),h=Math.abs(this.y1-this.y2);(l>10||h>10)&&(this._preventTap=!0)}else t.deltaX=0,t.deltaY=0;this.pressMove.dispatch(t,this.element)}this.touchMove.dispatch(t,this.element),this._cancelLongTap(),this.x2=i,this.y2=s,n>1&&t.preventDefault()}},end:function(t){if(t.changedTouches){this._cancelLongTap();var e=this;t.touches.length<2&&(this.multipointEnd.dispatch(t,this.element),this.sx2=this.sy2=null),this.x2&&Math.abs(this.x1-this.x2)>30||this.y2&&Math.abs(this.y1-this.y2)>30?(t.direction=this._swipeDirection(this.x1,this.x2,this.y1,this.y2),this.swipeTimeout=setTimeout(function(){e.swipe.dispatch(t,e.element)},0)):(this.tapTimeout=setTimeout(function(){e._preventTap||e.tap.dispatch(t,e.element),e.isDoubleTap&&(e.doubleTap.dispatch(t,e.element),e.isDoubleTap=!1)},0),e.isDoubleTap||(e.singleTapTimeout=setTimeout(function(){e.singleTap.dispatch(t,e.element)},250))),this.touchEnd.dispatch(t,this.element),this.preV.x=0,this.preV.y=0,this.zoom=1,this.pinchStartLen=null,this.x1=this.x2=this.y1=this.y2=null}},cancelAll:function(){this._preventTap=!0,clearTimeout(this.singleTapTimeout),clearTimeout(this.tapTimeout),clearTimeout(this.longTapTimeout),clearTimeout(this.swipeTimeout)},cancel:function(t){this.cancelAll(),this.touchCancel.dispatch(t,this.element)},_cancelLongTap:function(){clearTimeout(this.longTapTimeout)},_cancelSingleTap:function(){clearTimeout(this.singleTapTimeout)},_swipeDirection:function(t,e,n,i){return Math.abs(t-e)>=Math.abs(n-i)?t-e>0?"Left":"Right":n-i>0?"Up":"Down"},on:function(t,e){this[t]&&this[t].add(e)},off:function(t,e){this[t]&&this[t].del(e)},destroy:function(){return this.singleTapTimeout&&clearTimeout(this.singleTapTimeout),this.tapTimeout&&clearTimeout(this.tapTimeout),this.longTapTimeout&&clearTimeout(this.longTapTimeout),this.swipeTimeout&&clearTimeout(this.swipeTimeout),this.element.removeEventListener("touchstart",this.start),this.element.removeEventListener("touchmove",this.move),this.element.removeEventListener("touchend",this.end),this.element.removeEventListener("touchcancel",this.cancel),this.rotate.del(),this.touchStart.del(),this.multipointStart.del(),this.multipointEnd.del(),this.pinch.del(),this.swipe.del(),this.tap.del(),this.doubleTap.del(),this.longTap.del(),this.singleTap.del(),this.pressMove.del(),this.twoFingerPressMove.del(),this.touchMove.del(),this.touchEnd.del(),this.touchCancel.del(),this.preV=this.pinchStartLen=this.zoom=this.isDoubleTap=this.delta=this.last=this.now=this.tapTimeout=this.singleTapTimeout=this.longTapTimeout=this.swipeTimeout=this.x1=this.x2=this.y1=this.y2=this.preTapPosition=this.rotate=this.touchStart=this.multipointStart=this.multipointEnd=this.pinch=this.swipe=this.tap=this.doubleTap=this.longTap=this.singleTap=this.pressMove=this.touchMove=this.touchEnd=this.touchCancel=this.twoFingerPressMove=null,window.removeEventListener("scroll",this._cancelAllHandler),null}};var g=function(t,e,n,i,s,a,o,r,l,h,c,u,d,p,m,f){this.elements=window.Float32Array?new Float32Array(16):[];var v=this.elements;v[0]=void 0!==t?t:1,v[4]=e||0,v[8]=n||0,v[12]=i||0,v[1]=s||0,v[5]=void 0!==a?a:1,v[9]=o||0,v[13]=r||0,v[2]=l||0,v[6]=h||0,v[10]=void 0!==c?c:1,v[14]=u||0,v[3]=d||0,v[7]=p||0,v[11]=m||0,v[15]=void 0!==f?f:1};function y(t,e,n){for(var i=0,s=e.length;i<s;i++){T(t,e[i],n)}}function T(t,e,n){Object.defineProperty(t,e,{get:function(){return this["__"+e]},set:function(t){t!==this["__"+e]&&(this["__"+e]=t,n())}})}g.DEG_TO_RAD=Math.PI/180,g.prototype={set:function(t,e,n,i,s,a,o,r,l,h,c,u,d,p,m,f){var v=this.elements;return v[0]=t,v[4]=e,v[8]=n,v[12]=i,v[1]=s,v[5]=a,v[9]=o,v[13]=r,v[2]=l,v[6]=h,v[10]=c,v[14]=u,v[3]=d,v[7]=p,v[11]=m,v[15]=f,this},identity:function(){return this.set(1,0,0,0,0,1,0,0,0,0,1,0,0,0,0,1),this},multiplyMatrices:function(t,e){var n=t.elements,i=this.elements,s=n[0],a=n[4],o=n[8],r=n[12],l=n[1],h=n[5],c=n[9],u=n[13],d=n[2],p=n[6],m=n[10],f=n[14],v=n[3],w=n[7],g=n[11],y=n[15],T=e[0],b=e[1],x=e[2],_=e[3],E=e[4],M=e[5],X=e[6],Y=e[7],A=e[8],D=e[9],k=e[10],P=e[11],S=e[12],L=e[13],$=e[14],C=e[15];return i[0]=s*T+a*E+o*A+r*S,i[4]=s*b+a*M+o*D+r*L,i[8]=s*x+a*X+o*k+r*$,i[12]=s*_+a*Y+o*P+r*C,i[1]=l*T+h*E+c*A+u*S,i[5]=l*b+h*M+c*D+u*L,i[9]=l*x+h*X+c*k+u*$,i[13]=l*_+h*Y+c*P+u*C,i[2]=d*T+p*E+m*A+f*S,i[6]=d*b+p*M+m*D+f*L,i[10]=d*x+p*X+m*k+f*$,i[14]=d*_+p*Y+m*P+f*C,i[3]=v*T+w*E+g*A+y*S,i[7]=v*b+w*M+g*D+y*L,i[11]=v*x+w*X+g*k+y*$,i[15]=v*_+w*Y+g*P+y*C,this},_rounded:function(t,e){return e=Math.pow(10,e||15),Math.round(t*e)/e},appendTransform:function(t,e,n,i,s,a,o,r,l,h,c,u,d,p){var m=o*g.DEG_TO_RAD,f=this._rounded(Math.cos(m)),v=this._rounded(Math.sin(m)),w=r*g.DEG_TO_RAD,y=this._rounded(Math.cos(w)),T=this._rounded(Math.sin(w)),b=l*g.DEG_TO_RAD,x=this._rounded(Math.cos(-1*b)),_=this._rounded(Math.sin(-1*b));return this.multiplyMatrices(this,[1,0,0,t,0,f,v,e,0,-v,f,n,0,0,0,1]),this.multiplyMatrices(this,[y,0,T,0,0,1,0,0,-T,0,y,0,0,0,0,1]),this.multiplyMatrices(this,[x*i,_*s,0,0,-_*i,x*s,0,0,0,0,1*a,0,0,0,0,1]),(h||c)&&this.multiplyMatrices(this,[this._rounded(Math.cos(h*g.DEG_TO_RAD)),this._rounded(Math.sin(h*g.DEG_TO_RAD)),0,0,-1*this._rounded(Math.sin(c*g.DEG_TO_RAD)),this._rounded(Math.cos(c*g.DEG_TO_RAD)),0,0,0,0,1,0,0,0,0,1]),(u||d||p)&&(this.elements[12]-=u*this.elements[0]+d*this.elements[4]+p*this.elements[8],this.elements[13]-=u*this.elements[1]+d*this.elements[5]+p*this.elements[9],this.elements[14]-=u*this.elements[2]+d*this.elements[6]+p*this.elements[10]),this}};var b=function(t,e){y(t,["translateX","translateY","translateZ","scaleX","scaleY","scaleZ","rotateX","rotateY","rotateZ","skewX","skewY","originX","originY","originZ"],function(){var n=t.matrix3D.identity().appendTransform(t.translateX,t.translateY,t.translateZ,t.scaleX,t.scaleY,t.scaleZ,t.rotateX,t.rotateY,t.rotateZ,t.skewX,t.skewY,t.originX,t.originY,t.originZ);t.style.transform=t.style.msTransform=t.style.OTransform=t.style.MozTransform=t.style.webkitTransform=(e?"":"perspective("+(void 0===t.perspective?500:t.perspective)+"px) ")+"matrix3d("+Array.prototype.slice.call(n.elements).join(",")+")"}),t.matrix3D=new g,e||(y(t,["perspective"],function(){t.style.transform=t.style.msTransform=t.style.OTransform=t.style.MozTransform=t.style.webkitTransform="perspective("+t.perspective+"px) matrix3d("+Array.prototype.slice.call(t.matrix3D.elements).join(",")+")"}),t.perspective=500),t.scaleX=t.scaleY=t.scaleZ=1,t.translateX=t.translateY=t.translateZ=t.rotateX=t.rotateY=t.rotateZ=t.skewX=t.skewY=t.originX=t.originY=t.originZ=0};!function(){for(var t=0,e=["webkit","moz"],n=0;n<e.length&&!window.requestAnimationFrame;++n)window.requestAnimationFrame=window[e[n]+"RequestAnimationFrame"],window.cancelAnimationFrame=window[e[n]+"CancelAnimationFrame"]||window[e[n]+"CancelRequestAnimationFrame"];window.requestAnimationFrame||(window.requestAnimationFrame=function(e){var n=(new Date).getTime(),i=Math.max(0,16-(n-t)),s=window.setTimeout(function(){e(n+i)},i);return t=n+i,s}),window.cancelAnimationFrame||(window.cancelAnimationFrame=function(t){clearTimeout(t)})}();var x=function t(e,n,i,s,a,o,r){var l=e[n],h=i-l,c=new Date,u=this,d=a||function(t){return t};this.tickID=null;!function t(){var a=new Date-c;if(a>=s)return e[n]=i,r&&r(i),o&&o(i),cancelAnimationFrame(u.tickID),void(u.toTick=null);e[n]=h*d(a/s)+l,u.tickID=requestAnimationFrame(t),r&&r(e[n])}(),t.List.push(this)};function _(t){return t.width>=t.height?{auto:"height",max:"width"}:{auto:"width",max:"height"}}function E(t){return Math.sqrt(1-Math.pow(t-1,2))}x.List=[],x.stopAll=function(){for(var t=0,e=x.List.length;t<e;t++)cancelAnimationFrame(x.List[t].tickID);x.List.length=0},x.stop=function(t){cancelAnimationFrame(t.tickID)},x.reset=function(t,e,n){t[e]=n};var M=function(){var t=document.createElement("div");return t.innerHTML='\n<style>\n.zcorky-loading-container {\n  position: absolute;\n  top: 50%;\n  left: 50%;\n  transform: translate3d(-50%, -50%, 0);\n  z-index: -10;\n}\n.zcorky-wrapper {\n  width: 50px;\n  height: 50px;\n}\n\n.rotate {\n  animation: zcorky-rotate 1s linear infinite;\n}\n\n@keyframes zcorky-rotate {\n  to {\n    transform: rotate(1turn);\n  }\n}\n</style>\n<svg class="zcorky-wrapper" viewBox="-25 -25 50 50">\n  <circle cx="0" cy="0" r="20" stroke="#4197ff" fill="none" stroke-width="3px" style="opacity: 0.4"></circle>\n  <circle cx="0" cy="0" r="20" stroke="#4197ff" fill="none" stroke-width="3px" stroke-dasharray="20 150" class="rotate"></circle>\n</svg>\n',t.classList.add("zcorky-loading-container"),t},X=function(){function t(t,e){for(var n=0;n<e.length;n++){var i=e[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,i.key,i)}}return function(e,n,i){return n&&t(e.prototype,n),i&&t(e,i),e}}();function Y(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}new(function(){function t(){var e=this;!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),this.previewing=!1,this.lastPreviewedAt=null,this.getElement=function(t){return l(t)},this.getContainer=function(){var t="data-preview-container",n=l('div[data-preview-container="true"]');if(n)return{$box:e.$container,$image:e.$imageContainer,$mask:e.$maskContainer,$loading:e.$loading};(n=e.$container=document.createElement("div")).setAttribute(t,"true"),c(n,{position:"fixed",top:0,left:0,width:"100%",height:"100%",zIndex:1e8,backgroundColor:"#000",overflow:"hidden",animation:"easeshow .25s",display:"flex",justifyContent:"center",alignItems:"center"});var i=document.createElement("style");i.innerHTML="\n      @keyframes easeshow {\n        0% {\n          opacity: 0;\n        }\n\n        100% {\n          opacity: 1;\n        }\n      }\n      @keyframes easehide {\n        0% {\n          opacity: 1;\n        }\n\n        100% {\n          opacity: 0;\n        }\n      }\n\n      div["+t+'="true"] img {\n        position: relative;\n      }\n\n      div['+t+'="true"] img:after {\n        content: "...";\n        position: absolute;\n        top: 50%;\n        left: 50%;\n        transform: translate3d(-50%, -50%, 0);\n      }\n    ',n.prepend(i);var s=e.$imageContainer=document.createElement("img");s.setAttribute("rate",window.innerHeight/window.innerWidth),c(s,{width:"100%",border:"none"}),e.createAlloyFinger(s),n.appendChild(s),u(s,["click","touchstart"],function(){/mobile/i.test(window.navigator.userAgent)||e.togglePreview()});var a=e.$maskContainer=document.createElement("div");a.setAttribute("data-mask","true"),c(a,{position:"absolute",top:0,left:0,width:"100%",height:"100%",zIndex:"-10","-webkit-tap-highlight-color":"rgba(0, 0, 0, 0)"}),n.prepend(a);var o=e.$loading=M();return n.appendChild(o),u(a,["click","tap"],e.togglePreview),document.body.appendChild(n),{$box:n,$image:s,$mask:a,$loading:o}},this.createAlloyFinger=function(t){b(t);var n=1;return new w(t,{singleTap:function(){e.togglePreview()},doubleTap:function(){var n=1;n="width"===_(t).auto?window.innerWidth/t.width:window.innerHeight/t.height,e.zoom(n)},multipointStart:function(){x.stopAll(),n=t.scaleX},multipointEnd:function(){x.stopAll(),t.scaleX<1&&(new x(t,"scaleX",1,500,E),new x(t,"scaleY",1,500,E)),t.scaleX>5&&(new x(t,"scaleX",5,500,E),new x(t,"scaleY",5,500,E));var e=t.rotateZ%360;e<0&&(e=360+e),t.rotateZ=e,e>0&&e<45?new x(t,"rotateZ",0,500,E):e>=315?new x(t,"rotateZ",360,500,E):e>=45&&e<135?new x(t,"rotateZ",90,500,E):e>=135&&e<225?new x(t,"rotateZ",180,500,E):e>=225&&e<315&&new x(t,"rotateZ",270,500,E)},pinch:function(e){t.scaleX=t.scaleY=n*e.zoom},rotate:function(e){t.rotateZ+=e.angle},pressMove:function(n){e.checkBoundary(n.deltaX,n.deltaY)&&(t.translateX+=n.deltaX,t.translateY+=n.deltaY),n.preventDefault()}})},this.loadImage=function(t,e){var n=new Image;n.src=t,n.onload=function(){e(t)}},this.togglePreview=function(t,n){if(e.lastPreviewedAt&&Date.now()-e.lastPreviewedAt<300)return e.lastPreviewedAt=Date.now(),!1;e.lastPreviewedAt=Date.now(),!e.previewing&&t&&n?e.preview(t,n):e.unpreview()},this.preview=function(t,n){e.previewing=!0;var i=e.getContainer(),s=i.$box,a=i.$image,o=i.$loading;e.bodyScroll.disable(),c(s,{display:"flex"}),a.setAttribute("src",""),c(o,{display:"block"}),e.loadImage(n,function(e){var n;a.setAttribute("src",e);var i=_(t),s=i.max,r=i.auto;c(a,(Y(n={},s,"100%"),Y(n,r,"auto"),n)),c(o,{display:"none"})})},this.unpreview=function(){e.previewing=!1;var t=e.getContainer().$box;e.bodyScroll.enable(),e.reset(),h(t,"animation-name","easehide");u(t,["animationend"],function e(){"easehide"===t.style["animation-name"]&&c(t,{display:"none","animation-name":"easeshow"}),d(t,["animationend",e])})},this.zoom=function(t){var n=e.getContainer().$image;x.stopAll(),n.scaleX>1.5?(new x(n,"scaleX",1,500,E),new x(n,"scaleY",1,500,E),new x(n,"translateX",0,500,E),new x(n,"translateY",0,500,E)):(new x(n,"scaleX",t,500,E),new x(n,"scaleY",t,500,E),new x(n,"translateX",0,500,E),new x(n,"translateY",0,500,E))},this.checkBoundary=function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,i=e.getContainer().$image,s=i.scaleX,a=i.translateX,o=i.translateY,r=i.originX,l=i.originY,h=i.width,c=i.height,u=i.getAttribute("rate");if((1!==s||s!==u)&&(a+t<=(s-1)*(h/2+r)+r&&a+t>=-(s-1)*(h/2-r)+r&&o+n<=(s-1)*(c/2+l)+l&&o+n>=-(s-1)*(c/2-l)+l))return!0;return!1},this.reset=function(){var t=e.getContainer().$image;x.stopAll(),1!==t.scaleX||1!==t.scaleY||0!==t.translateX||0!==t.translateY?(new x(t,"scaleX",1,500,E),new x(t,"scaleY",1,500,E),new x(t,"translateX",0,500,E),new x(t,"translateY",0,500,E),new x(t,"rotateX",0,500,E),new x(t,"rotateY",0,500,E)):setTimeout(function(){x.reset(t,"scaleX",1),x.reset(t,"scaleY",1),x.reset(t,"translateX",0),x.reset(t,"translateY",0),x.reset(t,"rotateX",0),x.reset(t,"rotateY",0)},250)},this.render()}return X(t,[{key:"render",value:function(){var t,e=this;this.bodyScroll=(t=document.body.style.overflow,{enable:function(){h(document.body,"overflow",t)},disable:function(){h(document.body,"overflow","hidden")}});u(window,["tap","click"],function(t){var n=t.target;if(!n.hasAttribute("data-preview"))return!1;var i=n.src;if(!i)return!1;e.togglePreview(n,i)})}}]),t}())});
