import{setStyle,$,setStyles,addEvents,removeEvents}from"@zcorky/dom";function getLen(t){return Math.sqrt(t.x*t.x+t.y*t.y)}function dot(t,e){return t.x*e.x+t.y*e.y}function getAngle(t,e){var i=getLen(t)*getLen(e);if(0===i)return 0;var n=dot(t,e)/i;return n>1&&(n=1),Math.acos(n)}function cross(t,e){return t.x*e.y-e.x*t.y}function getRotateAngle(t,e){var i=getAngle(t,e);return cross(t,e)>0&&(i*=-1),180*i/Math.PI}var HandlerAdmin=function(t){this.handlers=[],this.el=t};function wrapFunc(t,e){var i=new HandlerAdmin(t);return i.add(e),i}HandlerAdmin.prototype.add=function(t){this.handlers.push(t)},HandlerAdmin.prototype.del=function(t){t||(this.handlers=[]);for(var e=this.handlers.length;e>=0;e--)this.handlers[e]===t&&this.handlers.splice(e,1)},HandlerAdmin.prototype.dispatch=function(){for(var t=0,e=this.handlers.length;t<e;t++){var i=this.handlers[t];"function"==typeof i&&i.apply(this.el,arguments)}};var AlloyFinger=function(t,e){this.element="string"==typeof t?document.querySelector(t):t,this.start=this.start.bind(this),this.move=this.move.bind(this),this.end=this.end.bind(this),this.cancel=this.cancel.bind(this),this.element.addEventListener("touchstart",this.start,!1),this.element.addEventListener("touchmove",this.move,!1),this.element.addEventListener("touchend",this.end,!1),this.element.addEventListener("touchcancel",this.cancel,!1),this.preV={x:null,y:null},this.pinchStartLen=null,this.zoom=1,this.isDoubleTap=!1;var i=function(){};this.rotate=wrapFunc(this.element,e.rotate||i),this.touchStart=wrapFunc(this.element,e.touchStart||i),this.multipointStart=wrapFunc(this.element,e.multipointStart||i),this.multipointEnd=wrapFunc(this.element,e.multipointEnd||i),this.pinch=wrapFunc(this.element,e.pinch||i),this.swipe=wrapFunc(this.element,e.swipe||i),this.tap=wrapFunc(this.element,e.tap||i),this.doubleTap=wrapFunc(this.element,e.doubleTap||i),this.longTap=wrapFunc(this.element,e.longTap||i),this.singleTap=wrapFunc(this.element,e.singleTap||i),this.pressMove=wrapFunc(this.element,e.pressMove||i),this.twoFingerPressMove=wrapFunc(this.element,e.twoFingerPressMove||i),this.touchMove=wrapFunc(this.element,e.touchMove||i),this.touchEnd=wrapFunc(this.element,e.touchEnd||i),this.touchCancel=wrapFunc(this.element,e.touchCancel||i),this._cancelAllHandler=this.cancelAll.bind(this),window.addEventListener("scroll",this._cancelAllHandler),this.delta=null,this.last=null,this.now=null,this.tapTimeout=null,this.singleTapTimeout=null,this.longTapTimeout=null,this.swipeTimeout=null,this.x1=this.x2=this.y1=this.y2=null,this.preTapPosition={x:null,y:null}};AlloyFinger.prototype={start:function(t){if(t.touches){this.now=Date.now(),this.x1=t.touches[0].pageX,this.y1=t.touches[0].pageY,this.delta=this.now-(this.last||this.now),this.touchStart.dispatch(t,this.element),null!==this.preTapPosition.x&&(this.isDoubleTap=this.delta>0&&this.delta<=250&&Math.abs(this.preTapPosition.x-this.x1)<30&&Math.abs(this.preTapPosition.y-this.y1)<30,this.isDoubleTap&&clearTimeout(this.singleTapTimeout)),this.preTapPosition.x=this.x1,this.preTapPosition.y=this.y1,this.last=this.now;var e=this.preV;if(t.touches.length>1){this._cancelLongTap(),this._cancelSingleTap();var i={x:t.touches[1].pageX-this.x1,y:t.touches[1].pageY-this.y1};e.x=i.x,e.y=i.y,this.pinchStartLen=getLen(e),this.multipointStart.dispatch(t,this.element)}this._preventTap=!1,this.longTapTimeout=setTimeout(function(){this.longTap.dispatch(t,this.element),this._preventTap=!0}.bind(this),750)}},move:function(t){if(t.touches){var e=this.preV,i=t.touches.length,n=t.touches[0].pageX,s=t.touches[0].pageY;if(this.isDoubleTap=!1,i>1){var a=t.touches[1].pageX,o=t.touches[1].pageY,r={x:t.touches[1].pageX-n,y:t.touches[1].pageY-s};null!==e.x&&(this.pinchStartLen>0&&(t.zoom=getLen(r)/this.pinchStartLen,this.pinch.dispatch(t,this.element)),t.angle=getRotateAngle(r,e),this.rotate.dispatch(t,this.element)),e.x=r.x,e.y=r.y,null!==this.x2&&null!==this.sx2?(t.deltaX=(n-this.x2+a-this.sx2)/2,t.deltaY=(s-this.y2+o-this.sy2)/2):(t.deltaX=0,t.deltaY=0),this.twoFingerPressMove.dispatch(t,this.element),this.sx2=a,this.sy2=o}else{if(null!==this.x2){t.deltaX=n-this.x2,t.deltaY=s-this.y2;var l=Math.abs(this.x1-this.x2),h=Math.abs(this.y1-this.y2);(l>10||h>10)&&(this._preventTap=!0)}else t.deltaX=0,t.deltaY=0;this.pressMove.dispatch(t,this.element)}this.touchMove.dispatch(t,this.element),this._cancelLongTap(),this.x2=n,this.y2=s,i>1&&t.preventDefault()}},end:function(t){if(t.changedTouches){this._cancelLongTap();var e=this;t.touches.length<2&&(this.multipointEnd.dispatch(t,this.element),this.sx2=this.sy2=null),this.x2&&Math.abs(this.x1-this.x2)>30||this.y2&&Math.abs(this.y1-this.y2)>30?(t.direction=this._swipeDirection(this.x1,this.x2,this.y1,this.y2),this.swipeTimeout=setTimeout(function(){e.swipe.dispatch(t,e.element)},0)):(this.tapTimeout=setTimeout(function(){e._preventTap||e.tap.dispatch(t,e.element),e.isDoubleTap&&(e.doubleTap.dispatch(t,e.element),e.isDoubleTap=!1)},0),e.isDoubleTap||(e.singleTapTimeout=setTimeout(function(){e.singleTap.dispatch(t,e.element)},250))),this.touchEnd.dispatch(t,this.element),this.preV.x=0,this.preV.y=0,this.zoom=1,this.pinchStartLen=null,this.x1=this.x2=this.y1=this.y2=null}},cancelAll:function(){this._preventTap=!0,clearTimeout(this.singleTapTimeout),clearTimeout(this.tapTimeout),clearTimeout(this.longTapTimeout),clearTimeout(this.swipeTimeout)},cancel:function(t){this.cancelAll(),this.touchCancel.dispatch(t,this.element)},_cancelLongTap:function(){clearTimeout(this.longTapTimeout)},_cancelSingleTap:function(){clearTimeout(this.singleTapTimeout)},_swipeDirection:function(t,e,i,n){return Math.abs(t-e)>=Math.abs(i-n)?t-e>0?"Left":"Right":i-n>0?"Up":"Down"},on:function(t,e){this[t]&&this[t].add(e)},off:function(t,e){this[t]&&this[t].del(e)},destroy:function(){return this.singleTapTimeout&&clearTimeout(this.singleTapTimeout),this.tapTimeout&&clearTimeout(this.tapTimeout),this.longTapTimeout&&clearTimeout(this.longTapTimeout),this.swipeTimeout&&clearTimeout(this.swipeTimeout),this.element.removeEventListener("touchstart",this.start),this.element.removeEventListener("touchmove",this.move),this.element.removeEventListener("touchend",this.end),this.element.removeEventListener("touchcancel",this.cancel),this.rotate.del(),this.touchStart.del(),this.multipointStart.del(),this.multipointEnd.del(),this.pinch.del(),this.swipe.del(),this.tap.del(),this.doubleTap.del(),this.longTap.del(),this.singleTap.del(),this.pressMove.del(),this.twoFingerPressMove.del(),this.touchMove.del(),this.touchEnd.del(),this.touchCancel.del(),this.preV=this.pinchStartLen=this.zoom=this.isDoubleTap=this.delta=this.last=this.now=this.tapTimeout=this.singleTapTimeout=this.longTapTimeout=this.swipeTimeout=this.x1=this.x2=this.y1=this.y2=this.preTapPosition=this.rotate=this.touchStart=this.multipointStart=this.multipointEnd=this.pinch=this.swipe=this.tap=this.doubleTap=this.longTap=this.singleTap=this.pressMove=this.touchMove=this.touchEnd=this.touchCancel=this.twoFingerPressMove=null,window.removeEventListener("scroll",this._cancelAllHandler),null}};var Matrix3D=function(t,e,i,n,s,a,o,r,l,h,c,u,d,p,m,w){this.elements=window.Float32Array?new Float32Array(16):[];var T=this.elements;T[0]=void 0!==t?t:1,T[4]=e||0,T[8]=i||0,T[12]=n||0,T[1]=s||0,T[5]=void 0!==a?a:1,T[9]=o||0,T[13]=r||0,T[2]=l||0,T[6]=h||0,T[10]=void 0!==c?c:1,T[14]=u||0,T[3]=d||0,T[7]=p||0,T[11]=m||0,T[15]=void 0!==w?w:1};function observe(t,e,i){for(var n=0,s=e.length;n<s;n++){watch(t,e[n],i)}}function watch(t,e,i){Object.defineProperty(t,e,{get:function(){return this["__"+e]},set:function(t){t!==this["__"+e]&&(this["__"+e]=t,i())}})}Matrix3D.DEG_TO_RAD=Math.PI/180,Matrix3D.prototype={set:function(t,e,i,n,s,a,o,r,l,h,c,u,d,p,m,w){var T=this.elements;return T[0]=t,T[4]=e,T[8]=i,T[12]=n,T[1]=s,T[5]=a,T[9]=o,T[13]=r,T[2]=l,T[6]=h,T[10]=c,T[14]=u,T[3]=d,T[7]=p,T[11]=m,T[15]=w,this},identity:function(){return this.set(1,0,0,0,0,1,0,0,0,0,1,0,0,0,0,1),this},multiplyMatrices:function(t,e){var i=t.elements,n=this.elements,s=i[0],a=i[4],o=i[8],r=i[12],l=i[1],h=i[5],c=i[9],u=i[13],d=i[2],p=i[6],m=i[10],w=i[14],T=i[3],v=i[7],f=i[11],g=i[15],y=e[0],x=e[1],b=e[2],A=e[3],M=e[4],_=e[5],D=e[6],X=e[7],k=e[8],Y=e[9],E=e[10],F=e[11],L=e[12],S=e[13],P=e[14],C=e[15];return n[0]=s*y+a*M+o*k+r*L,n[4]=s*x+a*_+o*Y+r*S,n[8]=s*b+a*D+o*E+r*P,n[12]=s*A+a*X+o*F+r*C,n[1]=l*y+h*M+c*k+u*L,n[5]=l*x+h*_+c*Y+u*S,n[9]=l*b+h*D+c*E+u*P,n[13]=l*A+h*X+c*F+u*C,n[2]=d*y+p*M+m*k+w*L,n[6]=d*x+p*_+m*Y+w*S,n[10]=d*b+p*D+m*E+w*P,n[14]=d*A+p*X+m*F+w*C,n[3]=T*y+v*M+f*k+g*L,n[7]=T*x+v*_+f*Y+g*S,n[11]=T*b+v*D+f*E+g*P,n[15]=T*A+v*X+f*F+g*C,this},_rounded:function(t,e){return e=Math.pow(10,e||15),Math.round(t*e)/e},appendTransform:function(t,e,i,n,s,a,o,r,l,h,c,u,d,p){var m=o*Matrix3D.DEG_TO_RAD,w=this._rounded(Math.cos(m)),T=this._rounded(Math.sin(m)),v=r*Matrix3D.DEG_TO_RAD,f=this._rounded(Math.cos(v)),g=this._rounded(Math.sin(v)),y=l*Matrix3D.DEG_TO_RAD,x=this._rounded(Math.cos(-1*y)),b=this._rounded(Math.sin(-1*y));return this.multiplyMatrices(this,[1,0,0,t,0,w,T,e,0,-T,w,i,0,0,0,1]),this.multiplyMatrices(this,[f,0,g,0,0,1,0,0,-g,0,f,0,0,0,0,1]),this.multiplyMatrices(this,[x*n,b*s,0,0,-b*n,x*s,0,0,0,0,1*a,0,0,0,0,1]),(h||c)&&this.multiplyMatrices(this,[this._rounded(Math.cos(h*Matrix3D.DEG_TO_RAD)),this._rounded(Math.sin(h*Matrix3D.DEG_TO_RAD)),0,0,-1*this._rounded(Math.sin(c*Matrix3D.DEG_TO_RAD)),this._rounded(Math.cos(c*Matrix3D.DEG_TO_RAD)),0,0,0,0,1,0,0,0,0,1]),(u||d||p)&&(this.elements[12]-=u*this.elements[0]+d*this.elements[4]+p*this.elements[8],this.elements[13]-=u*this.elements[1]+d*this.elements[5]+p*this.elements[9],this.elements[14]-=u*this.elements[2]+d*this.elements[6]+p*this.elements[10]),this}};var Transform=function(t,e){observe(t,["translateX","translateY","translateZ","scaleX","scaleY","scaleZ","rotateX","rotateY","rotateZ","skewX","skewY","originX","originY","originZ"],function(){var i=t.matrix3D.identity().appendTransform(t.translateX,t.translateY,t.translateZ,t.scaleX,t.scaleY,t.scaleZ,t.rotateX,t.rotateY,t.rotateZ,t.skewX,t.skewY,t.originX,t.originY,t.originZ);t.style.transform=t.style.msTransform=t.style.OTransform=t.style.MozTransform=t.style.webkitTransform=(e?"":"perspective("+(void 0===t.perspective?500:t.perspective)+"px) ")+"matrix3d("+Array.prototype.slice.call(i.elements).join(",")+")"}),t.matrix3D=new Matrix3D,e||(observe(t,["perspective"],function(){t.style.transform=t.style.msTransform=t.style.OTransform=t.style.MozTransform=t.style.webkitTransform="perspective("+t.perspective+"px) matrix3d("+Array.prototype.slice.call(t.matrix3D.elements).join(",")+")"}),t.perspective=500),t.scaleX=t.scaleY=t.scaleZ=1,t.translateX=t.translateY=t.translateZ=t.rotateX=t.rotateY=t.rotateZ=t.skewX=t.skewY=t.originX=t.originY=t.originZ=0};!function(){for(var t=0,e=["webkit","moz"],i=0;i<e.length&&!window.requestAnimationFrame;++i)window.requestAnimationFrame=window[e[i]+"RequestAnimationFrame"],window.cancelAnimationFrame=window[e[i]+"CancelAnimationFrame"]||window[e[i]+"CancelRequestAnimationFrame"];window.requestAnimationFrame||(window.requestAnimationFrame=function(e){var i=(new Date).getTime(),n=Math.max(0,16-(i-t)),s=window.setTimeout(function(){e(i+n)},n);return t=i+n,s}),window.cancelAnimationFrame||(window.cancelAnimationFrame=function(t){clearTimeout(t)})}();var To=function t(e,i,n,s,a,o,r){var l=e[i],h=n-l,c=new Date,u=this,d=a||function(t){return t};this.tickID=null;!function t(){var a=new Date-c;if(a>=s)return e[i]=n,r&&r(n),o&&o(n),cancelAnimationFrame(u.tickID),void(u.toTick=null);e[i]=h*d(a/s)+l,u.tickID=requestAnimationFrame(t),r&&r(e[i])}(),t.List.push(this)};function maxImage(t){return t.width>=t.height?{auto:"height",max:"width"}:{auto:"width",max:"height"}}function ease(t){return Math.sqrt(1-Math.pow(t-1,2))}function createBodyScrollable(){var t=document.body.style.overflow;return{enable:function(){setStyle(document.body,"overflow",t)},disable:function(){setStyle(document.body,"overflow","hidden")}}}To.List=[],To.stopAll=function(){for(var t=0,e=To.List.length;t<e;t++)cancelAnimationFrame(To.List[t].tickID);To.List.length=0},To.stop=function(t){cancelAnimationFrame(t.tickID)},To.reset=function(t,e,i){t[e]=i};var innerHTML='\n<style>\n.zcorky-loading-container {\n  position: absolute;\n  top: 50%;\n  left: 50%;\n  transform: translate3d(-50%, -50%, 0);\n  z-index: -10;\n}\n.zcorky-wrapper {\n  width: 50px;\n  height: 50px;\n}\n\n.rotate {\n  animation: zcorky-rotate 1s linear infinite;\n}\n\n@keyframes zcorky-rotate {\n  to {\n    transform: rotate(1turn);\n  }\n}\n</style>\n<svg class="zcorky-wrapper" viewBox="-25 -25 50 50">\n  <circle cx="0" cy="0" r="20" stroke="#4197ff" fill="none" stroke-width="3px" style="opacity: 0.4"></circle>\n  <circle cx="0" cy="0" r="20" stroke="#4197ff" fill="none" stroke-width="3px" stroke-dasharray="20 150" class="rotate"></circle>\n</svg>\n',createLoading=function(){var t=document.createElement("div");return t.innerHTML=innerHTML,t.classList.add("zcorky-loading-container"),t},_createClass=function(){function t(t,e){for(var i=0;i<e.length;i++){var n=e[i];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}return function(e,i,n){return i&&t(e.prototype,i),n&&t(e,n),e}}();function _defineProperty(t,e,i){return e in t?Object.defineProperty(t,e,{value:i,enumerable:!0,configurable:!0,writable:!0}):t[e]=i,t}function _classCallCheck(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}var Previewer=function(){function t(){var e=this;_classCallCheck(this,t),this.previewing=!1,this.lastPreviewedAt=null,this.getElement=function(t){return $(t)},this.getContainer=function(){var t="data-preview-container",i=$('div[data-preview-container="true"]');if(i)return{$box:e.$container,$image:e.$imageContainer,$mask:e.$maskContainer,$loading:e.$loading};(i=e.$container=document.createElement("div")).setAttribute(t,"true"),setStyles(i,{position:"fixed",top:0,left:0,width:"100%",height:"100%",zIndex:1e8,backgroundColor:"#000",overflow:"hidden",animation:"easeshow .25s",display:"flex",justifyContent:"center",alignItems:"center"});var n=document.createElement("style");n.innerHTML="\n      @keyframes easeshow {\n        0% {\n          opacity: 0;\n        }\n\n        100% {\n          opacity: 1;\n        }\n      }\n      @keyframes easehide {\n        0% {\n          opacity: 1;\n        }\n\n        100% {\n          opacity: 0;\n        }\n      }\n\n      div["+t+'="true"] img {\n        position: relative;\n      }\n\n      div['+t+'="true"] img:after {\n        content: "...";\n        position: absolute;\n        top: 50%;\n        left: 50%;\n        transform: translate3d(-50%, -50%, 0);\n      }\n    ',i.prepend(n);var s=e.$imageContainer=document.createElement("img");s.setAttribute("rate",window.innerHeight/window.innerWidth),setStyles(s,{width:"100%",border:"none"}),e.createAlloyFinger(s),i.appendChild(s),addEvents(s,["click","touchstart"],function(){/mobile/i.test(window.navigator.userAgent)||e.togglePreview()});var a=e.$maskContainer=document.createElement("div");a.setAttribute("data-mask","true"),setStyles(a,{position:"absolute",top:0,left:0,width:"100%",height:"100%",zIndex:"-10","-webkit-tap-highlight-color":"rgba(0, 0, 0, 0)"}),i.prepend(a);var o=e.$loading=createLoading();return i.appendChild(o),addEvents(a,["click","tap"],e.togglePreview),document.body.appendChild(i),{$box:i,$image:s,$mask:a,$loading:o}},this.createAlloyFinger=function(t){Transform(t);var i=1;return new AlloyFinger(t,{singleTap:function(){e.togglePreview()},doubleTap:function(){var i=1;i="width"===maxImage(t).auto?window.innerWidth/t.width:window.innerHeight/t.height,e.zoom(i)},multipointStart:function(){To.stopAll(),i=t.scaleX},multipointEnd:function(){To.stopAll(),t.scaleX<1&&(new To(t,"scaleX",1,500,ease),new To(t,"scaleY",1,500,ease)),t.scaleX>5&&(new To(t,"scaleX",5,500,ease),new To(t,"scaleY",5,500,ease));var e=t.rotateZ%360;e<0&&(e=360+e),t.rotateZ=e,e>0&&e<45?new To(t,"rotateZ",0,500,ease):e>=315?new To(t,"rotateZ",360,500,ease):e>=45&&e<135?new To(t,"rotateZ",90,500,ease):e>=135&&e<225?new To(t,"rotateZ",180,500,ease):e>=225&&e<315&&new To(t,"rotateZ",270,500,ease)},pinch:function(e){t.scaleX=t.scaleY=i*e.zoom},rotate:function(e){t.rotateZ+=e.angle},pressMove:function(i){e.checkBoundary(i.deltaX,i.deltaY)&&(t.translateX+=i.deltaX,t.translateY+=i.deltaY),i.preventDefault()}})},this.loadImage=function(t,e){var i=new Image;i.src=t,i.onload=function(){e(t)}},this.togglePreview=function(t){if(e.lastPreviewedAt&&Date.now()-e.lastPreviewedAt<300)return e.lastPreviewedAt=Date.now(),!1;e.lastPreviewedAt=Date.now(),!e.previewing&&t?e.preview(t):e.unpreview()},this.preview=function(t){if(!t)return alert("preview with no options, it needs { styles, source }");var i=t||{},n=i.styles,s=i.source;e.previewing=!0;var a=e.getContainer(),o=a.$box,r=a.$image,l=a.$loading;e.bodyScroll.disable(),setStyles(o,{display:"flex"}),r.setAttribute("src",""),setStyles(l,{display:"block"}),e.loadImage(s,function(t){r.setAttribute("src",t),setStyles(r,n),setStyles(l,{display:"none"})})},this.unpreview=function(){e.previewing=!1;var t=e.getContainer().$box;e.bodyScroll.enable(),e.reset(),setStyles(t,{"animation-name":"easehide"});addEvents(t,["animationend"],function e(){"easehide"===t.style["animation-name"]&&setStyles(t,{display:"none","animation-name":"easeshow"}),removeEvents(t,["animationend",e])})},this.zoom=function(t){var i=e.getContainer().$image;To.stopAll(),i.scaleX>1.5?(new To(i,"scaleX",1,500,ease),new To(i,"scaleY",1,500,ease),new To(i,"translateX",0,500,ease),new To(i,"translateY",0,500,ease)):(new To(i,"scaleX",t,500,ease),new To(i,"scaleY",t,500,ease),new To(i,"translateX",0,500,ease),new To(i,"translateY",0,500,ease))},this.checkBoundary=function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0,i=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,n=e.getContainer().$image,s=n.scaleX,a=n.translateX,o=n.translateY,r=n.originX,l=n.originY,h=n.width,c=n.height,u=n.getAttribute("rate");if((1!==s||s!==u)&&(a+t<=(s-1)*(h/2+r)+r&&a+t>=-(s-1)*(h/2-r)+r&&o+i<=(s-1)*(c/2+l)+l&&o+i>=-(s-1)*(c/2-l)+l))return!0;return!1},this.reset=function(){var t=e.getContainer().$image;To.stopAll(),1!==t.scaleX||1!==t.scaleY||0!==t.translateX||0!==t.translateY?(new To(t,"scaleX",1,500,ease),new To(t,"scaleY",1,500,ease),new To(t,"translateX",0,500,ease),new To(t,"translateY",0,500,ease),new To(t,"rotateX",0,500,ease),new To(t,"rotateY",0,500,ease)):setTimeout(function(){To.reset(t,"scaleX",1),To.reset(t,"scaleY",1),To.reset(t,"translateX",0),To.reset(t,"translateY",0),To.reset(t,"rotateX",0),To.reset(t,"rotateY",0)},250)},this.render()}return _createClass(t,[{key:"render",value:function(){var t=this;this.bodyScroll=createBodyScrollable();addEvents(window,["tap","click"],function(e){var i,n=e.target;if(!n.hasAttribute("data-preview"))return!1;var s=n.src;if(!s)return!1;var a=maxImage(n),o=a.max,r=a.auto,l=n.getAttribute("data-hd");t.togglePreview({styles:(i={},_defineProperty(i,o,"100%"),_defineProperty(i,r,"auto"),i),source:l||s})})}}]),t}();new Previewer;
